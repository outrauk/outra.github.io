version: 2
sources:
- name: CORE.PROPERTY
  description: ''
  database: CORE
  schema: PROPERTY
  tables:
  - name: PROPERTY_COMBINED
- name: CORE.GEOGRAPHIC
  description: ''
  database: CORE
  schema: GEOGRAPHIC
  tables:
  - name: UPRN_ADDRESS_DETAILS
    description: 'Master address reference table keyed by UPRN. Contains full address
      components, postcode hierarchy, administrative geography (locality, post town,
      district, county, region, country), property metadata, OSGB coordinates, lat/long,
      and H3 indexes at multiple resolutions. Used for geocoding, spatial enrichment,
      and address attribution in downstream products.

      '
    columns:
    - name: UPRN
      description: Unique Property Reference Number.
      data_type: number
      tests:
      - not_null
      - unique
    - name: UDPRN
      description: Unique Delivery Point Reference Number.
      data_type: number
    - name: PARENT_UPRN
      description: Parent UPRN.
      data_type: number
    - name: ADDRESS_LINE_1
      description: First line of address.
      data_type: string
    - name: ADDRESS_LINE_2
      description: Second line of address.
      data_type: string
    - name: ADDRESS_LINE_3
      description: Third line of address.
      data_type: string
    - name: ADDRESS_LINE_4
      description: Fourth line of address.
      data_type: string
    - name: UNIT_NUMBER
      description: Unit or apartment number.
      data_type: string
    - name: BUILDING_INFO
      description: Building descriptive information.
      data_type: string
    - name: BUILDING_NUMBER
      description: Building number.
      data_type: string
    - name: STREET
      description: Street name.
      data_type: string
    - name: POSTCODE
      description: Full UK postcode.
      data_type: string
      tests:
      - not_null
    - name: POSTCODE_AREA
      description: Postcode area.
      data_type: string
    - name: POSTCODE_DISTRICT
      description: Postcode district.
      data_type: string
    - name: POSTCODE_SECTOR
      description: Postcode sector.
      data_type: string
    - name: LOCALITY
      description: Locality inside post town.
      data_type: string
    - name: POST_TOWN
      description: Post town.
      data_type: string
    - name: ADMINISTRATIVE_AREA
      description: Admin area.
      data_type: string
    - name: DISTRICT
      description: District.
      data_type: string
    - name: COUNTY
      description: County.
      data_type: string
    - name: REGION
      description: Region name.
      data_type: string
    - name: COUNTRY
      description: Country name.
      data_type: string
    - name: LATITUDE
      description: Latitude.
      data_type: float
    - name: LONGITUDE
      description: Longitude.
      data_type: float
    - name: X_COORDINATE
      description: OSGB X coordinate.
      data_type: string
    - name: Y_COORDINATE
      description: OSGB Y coordinate.
      data_type: string
  - name: POSTCODE
    description: 'Master reference table for all UK postcodes. Includes postcode hierarchy
      (area, district, sector, unit), administrative geography (local authority, region,
      nation, LSOA/MSOA), parliamentary constituency, and location coordinates (centroid
      latitude/longitude and easting/northing).

      '
    columns:
    - name: POSTCODE
      description: Full UK postcode (e.g., CV3 2HU).
      data_type: string
      tests:
      - not_null
      - unique
    - name: POSTCODE_AREA
      description: First part of the postcode indicating the area (e.g., CV).
      data_type: string
    - name: POSTCODE_DISTRICT
      description: Area plus district number (e.g., CV3).
      data_type: string
    - name: POSTCODE_SECTOR
      description: District plus sector number (e.g., CV3 2).
      data_type: string
    - name: POSTCODE_UNIT
      description: Delivery unit of the postcode (e.g., HU).
      data_type: string
    - name: POST_TOWN
      description: Royal Mail post town for the postcode.
      data_type: string
    - name: LA_CODE
      description: Local authority code (e.g., E08000026).
      data_type: string
    - name: LA_NAME
      description: Local authority name (e.g., Coventry).
      data_type: string
    - name: REGION_CODE
      description: ONS region code.
      data_type: string
    - name: REGION_NAME
      description: ONS region name (e.g., West Midlands).
      data_type: string
    - name: LSOA_CODE
      description: Lower Layer Super Output Area code.
      data_type: string
    - name: LSOA_NAME
      description: Lower Layer Super Output Area name.
      data_type: string
    - name: MSOA_CODE
      description: Middle Layer Super Output Area code.
      data_type: string
    - name: MSOA_NAME
      description: Middle Layer Super Output Area name.
      data_type: string
    - name: NATION_CODE
      description: Nation code (e.g., E11000005 for England).
      data_type: string
    - name: NATION_NAME
      description: Nation name (e.g., England).
      data_type: string
    - name: CONSTITUENCY_CODE
      description: Parliamentary constituency code.
      data_type: string
    - name: CONSTITUENCY_NAME
      description: Parliamentary constituency name.
      data_type: string
    - name: CENTROID_LONGITUDE
      description: Longitude of the geographic centroid of the postcode.
      data_type: float
    - name: CENTROID_LATITUDE
      description: Latitude of the geographic centroid of the postcode.
      data_type: float
    - name: POSTCODE_EASTING
      description: Ordnance Survey grid easting for the postcode centroid.
      data_type: integer
    - name: POSTCODE_NORTHING
      description: Ordnance Survey grid northing for the postcode centroid.
      data_type: integer
- name: CORE.HOUSEHOLD
  description: ''
  database: CORE
  schema: HOUSEHOLD
  tables:
  - name: DEMOGRAPHICS
    description: Household-level demographic attributes derived from CACI and property
      datasets, keyed by UPRN.
    columns:
    - name: UPRN
      description: Unique Property Reference Number.
      data_type: numeric
      tests:
      - not_null
      - unique
    - name: POSTCODE
      description: Full postcode of the household.
      data_type: varchar
      tests:
      - not_null
    - name: AGE_BAND
      description: Five-year age band of the oldest household member.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - 85+
          - 80-84
          - 75-79
          - 70-74
          - 65-69
          - 60-64
          - 55-59
          - 50-54
          - 45-49
          - 40-44
          - 35-39
          - 30-34
          - 25-29
          - 18-24
    - name: HOUSEHOLD_SIZE
      description: Household size grouped into numeric buckets.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - 5+
          - 3-4
          - '2'
          - '1'
    - name: HOUSEHOLD_RELATIONSHIP
      description: Household composition type.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - single_(including_previously_married)
          - couple
    - name: SOCIAL_GRADE
      description: NRS social grade.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - A
          - B
          - C1
          - C2
          - D
          - E
    - name: IS_EMPLOYED
      description: Whether household members are employed.
      data_type: boolean
    - name: IS_SELF_EMPLOYED
      description: Whether household members are self-employed.
      data_type: boolean
    - name: HAS_PENSION_SCHEME_ORGANISED
      description: Type of pension scheme organisation.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - personally
          - through_company
    - name: OCCUPATION
      description: Primary occupation classification.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - unemployed
          - student
          - skilled/manual_worker
          - service_sector
          - retired
          - professional
          - office_worker
          - looking_after_home
          - director/managerial
    - name: HIGHEST_QUALIFICATION
      description: Highest educational qualification achieved.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - university_degree_or_higher
          - a-level_or_equivalent
          - gcse_or_equivalent
          - unfinished_secondary_education_or_lower
    - name: CHILDREN_AT_HOME
      description: Number of children living at home.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - 3+
          - '2'
          - '1'
          - '0'
    - name: CHILDREN_AGE_BAND
      description: Age band of children living at home.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - 16+
          - 11+
          - 5+
          - 0+
    - name: HOUSEHOLD_INCOME_BAND
      description: Household income band.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>100k'
          - 75k-100k
          - 50k-75k
          - 40k-50k
          - 30k-40k
          - 20k-30k
          - 10k-20k
          - 0-10k
    - name: RETIREMENT_INCOME
      description: Primary retirement income type.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - other
          - savings/investments/property
          - company_pension_final_salary_scheme
          - state_pension
    - name: HAS_SAVINGS_ACCOUNT
      description: Whether household has a savings account.
      data_type: boolean
    - name: SAVINGS_BAND
      description: Estimated savings band.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>100k'
          - '>25k'
          - 10k-25k
          - 2.5k-10k
          - 500-2.5k
          - 1-500
    - name: INVESTMENTS_VALUE_BAND
      description: Band of total investment value.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>100k'
          - '>25k'
          - 10k-25k
          - 2.5k-10k
          - 500-2.5k
          - 1-500
    - name: HOME_OWNED
      description: Home ownership type.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - with_mortgage_full_ownership
          - with_mortgage_shared_ownership
          - with_mortgage
          - outright
    - name: MONTHLY_MORTGAGE_REPAYMENT
      description: Monthly mortgage repayment band.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>1000'
          - 750-1000
          - 500-750
          - 250-500
          - 1-250
    - name: HOUSING_ASSOCIATION_RENTED
      description: Whether the property is housing-association rented.
      data_type: boolean
    - name: LOCAL_AUTHORITY_RENTED
      description: Whether the property is local-authority rented.
      data_type: boolean
    - name: OUTSTANDING_MORTGAGE
      description: Outstanding mortgage value band.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>200k'
          - 150k-200k
          - 100k-150k
          - 50k-100k
          - <50k
    - name: MORTGAGE_RATE
      description: Mortgage rate type.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - fixed
          - other_variable_rate
          - standard_variable_rate
          - variable
    - name: CREDIT_CARD_SPENDING
      description: Credit card spending in last month.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>1000'
          - 750-1000
          - 500-750
          - 250-500
          - 100-250
          - 50-100
          - 0-50
    - name: MANAGES_CURRENT_ACCOUNT
      description: How the household manages their current account.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - via_atm
          - in_branch
          - online_at_home_or_work_not_mobile
          - mobile_device
          - online
          - by_phone
          - by_post
    - name: MAIN_CAR_CLASS
      description: Main vehicle class used by the household.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - other
          - luxury
          - saloon
          - estate
          - hatchback
    - name: NORMAL_COMMUTE
      description: Primary commuting method.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - other_(walk_cycle_other)
          - private_transport
          - public_transport
    - name: WEEKLY_SUPERMARKET_SPEND
      description: Weekly supermarket expenditure band.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>100'
          - 80-100
          - 50-80
          - 30-50
          - 0-30
    - name: ONLY_SAVE_FOR_A_SPECIFIC_PURPOSE
      description: Whether the household only saves for specific purposes.
      data_type: boolean
    - name: HAS_INVESTMENTS
      description: Whether household has investments.
      data_type: boolean
    - name: HAS_STOCKS_AND_SHARES
      description: Whether household holds stocks and shares.
      data_type: boolean
    - name: HAS_STOCKS_AND_SHARES_ISA
      description: Whether household holds a stocks & shares ISA.
      data_type: boolean
    - name: FINANCIAL_SITUATION
      description: Financial situation classification.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - drawing_on_savings_or_running_into_debt
          - just_managing_to_make_ends_meet
          - saving_a_lot
          - saving_a_little
    - name: HAS_UNIT_TRUSTS
      description: Whether household holds unit trusts.
      data_type: boolean
    - name: HAS_LOAN
      description: Whether household holds a loan.
      data_type: boolean
    - name: HAS_2_LOANS
      description: Whether household holds two loans.
      data_type: boolean
    - name: HAS_UNSECURED_LOAN
      description: Whether household holds an unsecured loan.
      data_type: boolean
    - name: UNSECURED_DEBT_GREATER_THAN_15K
      description: "Whether unsecured debt exceeds \xA315k."
      data_type: boolean
    - name: HAS_MORTGAGE_ON_MORE_THAN_ONE_PROPERTY
      description: Whether household has mortgages on multiple properties.
      data_type: boolean
    - name: OWNS_A_HOLIDAY_HOME
      description: Whether household owns a holiday home.
      data_type: boolean
    - name: HOLDS_A_BUY_TO_LET_PROPERTY_OR_PROPERTY_DEVELOPMENT_PROJECTS
      description: Whether household holds buy-to-let or development property.
      data_type: boolean
    - name: NUMBER_OF_CARS
      description: Number of cars owned.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '3'
          - '2'
          - '1'
          - '0'
    - name: MAIN_CAR_LESS_THAN_3_YEARS_OLD
      description: Whether the main car is < 3 years old.
      data_type: boolean
    - name: MAIN_CAR_USES_ALTERNATIVE_FUEL
      description: Whether the main vehicle uses alternative fuel.
      data_type: boolean
    - name: HAS_BREAKDOWN_COVER
      description: Whether household has breakdown cover.
      data_type: boolean
    - name: CAR_SHARES_JOURNEY_TO_WORK
      description: Whether household participates in car sharing for work.
      data_type: boolean
    - name: MAIN_SUPERMARKET_FOR_FOOD_M_AND_S
      description: Boolean flag indicating that the main supermarket for food is Marks
        & Spencer.
      data_type: boolean
    - name: SHOP_AT_ALDI
      description: 'Boolean flag: household shops at ALDI.'
      data_type: boolean
    - name: SHOP_AT_ASDA
      description: 'Boolean flag: household shops at ASDA.'
      data_type: boolean
    - name: SHOP_AT_CO_OP
      description: "Boolean flag: household shops at Co\u2011op."
      data_type: boolean
    - name: SHOP_AT_LIDL
      description: 'Boolean flag: household shops at Lidl.'
      data_type: boolean
    - name: SHOP_AT_MORRISONS
      description: 'Boolean flag: household shops at Morrisons.'
      data_type: boolean
    - name: SHOP_AT_SAINSBURY
      description: "Boolean flag: household shops at Sainsbury\u2019s."
      data_type: boolean
    - name: SHOP_AT_TESCO
      description: 'Boolean flag: household shops at Tesco.'
      data_type: boolean
    - name: SHOP_AT_WAITROSE
      description: 'Boolean flag: household shops at Waitrose.'
      data_type: boolean
    - name: SHOP_AT
      description: Supermarkets the household shops at (combined multiselect).
      data_type: varchar
    - name: HAS_A_PET
      description: Whether the household has a pet.
      data_type: boolean
    - name: HAS_PET_INSURANCE
      description: Whether the household has pet insurance.
      data_type: boolean
    - name: YEARLY_MILEAGE_BAND
      description: Yearly household mileage band.
      data_type: varchar
      tests:
      - accepted_values:
          values:
          - '>9000'
          - 4000-9000
          - <4000
    - name: HAS_TRAVEL_INSURANCE
      description: Whether the household has travel insurance.
      data_type: boolean
    - name: INTERNET_FREQUENT_USER
      description: Whether the household frequently uses the internet.
      data_type: boolean
    - name: REGULARLY_VISITED_WEBSITES_AIRBNB
      description: Whether the household regularly uses Airbnb.
      data_type: boolean
    - name: REGULARLY_VISITED_WEBSITES_RIGHTMOVE
      description: Whether the household regularly visits Rightmove.
      data_type: boolean
    - name: HAS_PRIVATE_MEDICAL_INSURANCE
      description: Whether the household has private medical insurance.
      data_type: boolean
    - name: LIFESTYLE_NO_TIME_FOR_COOKING
      description: 'Lifestyle indicator: limited time for cooking.'
      data_type: boolean
    - name: LIFESTYLE_REGULAR_EXERCISE
      description: 'Lifestyle indicator: takes regular exercise.'
      data_type: boolean
    - name: LIFESTYLE_WAIST_CONSCIOUS
      description: 'Lifestyle indicator: tries to reduce waste and reuse items.'
      data_type: boolean
    - name: LIFESTYLE_HEALTHY_FOOD
      description: 'Lifestyle indicator: prioritises healthy eating.'
      data_type: boolean
    - name: EATING_HABITS_ORGANIC_FOOD
      description: Whether the household prefers organic/natural foods.
      data_type: boolean
    - name: EATING_HABITS_VEGAN
      description: Whether the household follows a vegan diet.
      data_type: boolean
    - name: INTERESTS_SPORTS
      description: Interest in sports activities.
      data_type: boolean
    - name: INTERESTS_HIKING
      description: Interest in hiking, climbing or outdoor pursuits.
      data_type: boolean
    - name: INTERESTS_MEDITATION_MINDFULNESS
      description: Interest in meditation/mindfulness.
      data_type: boolean
    - name: LAST_UPDATE_DATE
      description: Record last update date.
      data_type: date
  - name: SEGMENTS
    description: "Segments assigned to each UPRN, representing behavioural, financial,\
      \ demographic, lifestyle, property, and mobility characteristics inferred at\
      \ the household level. Each column is a boolean flag indicating whether the\
      \  household belongs to a given segment. These segments are derived from aggregated\
      \ household attributes, property features, on\u2011market activity, and external\
      \ enrichment datasets. The table provides a unified segmentation layer that\
      \  supports consumer analytics, targeted modelling, property intelligence, and\
      \ household profiling across the business.\n"
    columns:
    - name: uprn
      description: Unique Property Reference Number
      data_type: NUMERIC
      data_tests:
      - not_null
      - unique
    - name: postcode
      description: Postcode of the property
      data_type: VARCHAR
      data_tests:
      - not_null
    - name: seg_young_professionals
      description: Indicator for Young Professionals segment. Early-career, employed,
        digitally native adults living in flats.
      data_type: BOOLEAN
    - name: seg_middle_aged_professionals
      description: Indicator for Middle Aged Professionals segment. Mid-career, employed
        adults age 40-59.
      data_type: BOOLEAN
    - name: seg_city_renters
      description: Indicator for City Renters segment. Renters in urban flats with
        small households.
      data_type: BOOLEAN
    - name: seg_young_couples_no_kids
      description: Indicator for Young Couples No Kids segment. Young adult couples
        without children, age 30-44.
      data_type: BOOLEAN
    - name: seg_first_time_homeowners
      description: Indicator for First Time Homeowners segment. Young adults who purchased
        first home (past 3 years), age 30-39.
      data_type: BOOLEAN
    - name: seg_new_parents
      description: Indicator for New Parents segment. Families with children under
        4 years old.
      data_type: BOOLEAN
    - name: seg_family_builders
      description: Indicator for Family Builders segment. Growing families in larger
        homes.
      data_type: BOOLEAN
    - name: seg_suburban_family_homes
      description: Indicator for Suburban Family Homes segment. Suburban households
        with cars and gardens.
      data_type: BOOLEAN
    - name: seg_affluent_households
      description: Indicator for Affluent Households segment. High income, financial
        comfortable households with savings.
      data_type: BOOLEAN
    - name: seg_high_value_homeowners
      description: Indicator for High Value Homeowners segment. Asset-rich property
        owners, above 750k property value.
      data_type: BOOLEAN
    - name: seg_high_spending_credit_users
      description: Indicator for High Spending Credit Users segment. Very high credit
        card spenders, with high incomes >50k.
      data_type: BOOLEAN
    - name: seg_moderate_credit_users
      description: Indicator for Moderate Credit Users segment. Moderate credit card
        spenders, active but not excessive.
      data_type: BOOLEAN
    - name: seg_debt_active_borrowers
      description: Indicator for Debt Active Borrowers segment. Households with unsecured
        loans or high debt levels.
      data_type: BOOLEAN
    - name: seg_cost_conscious_households
      description: Indicator for Cost Conscious Households segment. Price-sensitive
        households under financial pressure.
      data_type: BOOLEAN
    - name: seg_long_term_homeowners
      description: Indicator for Long Term Homeowners segment. Stable owners who purchased
        property over 10 years ago.
      data_type: BOOLEAN
    - name: seg_high_value_renovation_mindset
      description: Indicator for High Value Renovation Mindset segment. Owners of
        older, inefficient high-value properties.
      data_type: BOOLEAN
    - name: seg_standard_renovation_opportunity
      description: Indicator for Standard Renovation Opportunity segment. Owners of
        older, inefficient mid-value properties.
      data_type: BOOLEAN
    - name: seg_new_build
      description: Indicator for New Build segment. Residents of modern, energy-efficient
        homes.
      data_type: BOOLEAN
    - name: seg_eco_aware_households
      description: Indicator for Eco Aware Households segment. Sustainability-focused
        households, based on car, energy_rating and diet.
      data_type: BOOLEAN
    - name: seg_car_centric_families
      description: Indicator for Car Centric Families segment. Vehicle-dependent households.
      data_type: BOOLEAN
    - name: seg_active_fitness_enthusiasts
      description: Indicator for Active Fitness Enthusiasts segment. Regular exercisers
        with sports interests.
      data_type: BOOLEAN
    - name: seg_health_conscious_food_focus
      description: Indicator for Health Conscious Food Focus segment. Healthy eating
        focused, including organic/vegan.
      data_type: BOOLEAN
    - name: seg_wellness_lifestyle
      description: Indicator for Wellness Lifestyle segment. General wellness seekers
        (exercise OR healthy food, but not both intensely).
      data_type: BOOLEAN
    - name: seg_responsible_pet_owners
      description: Indicator for Responsible Pet Owners segment. Pet owners with insurance,
        indicating responsible ownership.
      data_type: BOOLEAN
    - name: seg_casual_pet_owners
      description: Indicator for Casual Pet Owners segment. Pet owners without insurance,
        indicating casual ownership.
      data_type: BOOLEAN
    - name: seg_pre_retirees
      description: Indicator for Pre Retirees segment. Older homeowners approaching
        retirement age, age 55-64.
      data_type: BOOLEAN
    - name: seg_retired_homeowners
      description: Indicator for Retired Homeowners segment. Retired property owners,
        no age defined.
      data_type: BOOLEAN
    - name: seg_digital_first_households
      description: Indicator for Digital First Households segment. Tech-savvy households,
        comfortable with online transactions.
      data_type: BOOLEAN
    - name: seg_frequent_travelers
      description: Indicator for Frequent Travelers segment. Travel insurance holders,
        indicating regular travel.
      data_type: BOOLEAN
    - name: seg_occasional_travelers
      description: Indicator for Occasional Travelers segment. Airbnb users but no
        travel insurance (casual travelers).
      data_type: BOOLEAN
    - name: seg_property_investors
      description: Indicator for Property Investors segment. Owners of buy-to-let
        or multiple properties.
      data_type: BOOLEAN
    - name: seg_learner_new_drivers
      description: Indicator for Learner New Drivers segment. Young adults (18-29)
        who are likely learning to drive or new drivers.
      data_type: BOOLEAN
    - name: seg_car_upgrade_prospects
      description: Indicator for Car Upgrade Prospects segment. Households with older
        cars (>3 years) and good income (>50k), likely to upgrade.
      data_type: BOOLEAN
    - name: seg_high_mileage_drivers
      description: Indicator for High Mileage Drivers segment. Drivers with high annual
        mileage (>9k/year), likely need frequent servicing/insurance.
      data_type: BOOLEAN
    - name: seg_multi_car_households
      description: Indicator for Multi Car Households segment. Households with 2+
        cars, higher insurance/service needs.
      data_type: BOOLEAN
    - name: seg_electric_vehicle_adopters
      description: Indicator for Electric Vehicle Adopters segment. Households with
        electric/hybrid vehicles and high income (>50k).
      data_type: BOOLEAN
    - name: seg_car_commuters
      description: Indicator for Car Commuters segment. Households where at least
        one adult commutes by car.
      data_type: BOOLEAN
    - name: seg_insurance_conscious_households
      description: Indicator for Insurance Conscious Households segment. Households
        with multiple insurance policies, indicating insurance awareness.
      data_type: BOOLEAN
    - name: seg_high_risk_drivers
      description: Indicator for High Risk Drivers segment. Young drivers (18-34y)
        with high mileage (>9k) - higher insurance risk.
      data_type: BOOLEAN
    - name: seg_low_risk_drivers
      description: Indicator for Low Risk Drivers segment. Older (45+y), low-mileage
        drivers (<9k) - lower insurance risk
      data_type: BOOLEAN
    - name: seg_property_insurance_prospects
      description: Indicator for Property Insurance Prospects segment. Recent homeowners
        (<3y) or high-value (>500k) properties needing insurance.
      data_type: BOOLEAN
    - name: seg_breakdown_cover_prospects
      description: Indicator for Breakdown Cover Prospects segment. Car owners without
        breakdown cover - insurance acquisition opportunity.
      data_type: BOOLEAN
    - name: seg_life_stage_student
      description: Indicator for Life Stage Student segment. Non-mature students (18-24y).
      data_type: BOOLEAN
    - name: seg_rural_area
      description: Indicator of Rural Area.
      data_type: BOOLEAN
    - name: seg_suburban_area
      description: Indicator of suburban Area.
      data_type: BOOLEAN
    - name: seg_urban_area
      description: Indicator of urban Area.
      data_type: BOOLEAN
    - name: seg_renters
      description: Indicator for Renters segment. Households that rent their property.
      data_type: BOOLEAN
    - name: seg_owners
      description: Indicator for Owners segment. Households that own their property.
      data_type: BOOLEAN
    - name: seg_property_small_home
      description: Indicator for Property Small Home segment. Properties with 1-3
        bedrooms.
      data_type: BOOLEAN
    - name: seg_property_large_home
      description: Indicator for Property Large Home segment. Properties with 4+ bedrooms.
      data_type: BOOLEAN
    - name: seg_property_garden
      description: Indicator for Property Garden segment. Properties with gardens.
      data_type: BOOLEAN
    - name: seg_ev_readiness_ready
      description: Indicator for EV Readiness Ready segment. Households with garage
        or parking.
      data_type: BOOLEAN
    - name: seg_spare_bed
      description: Indicator for Spare Bed segment. Properties with more bedrooms
        than household members, indicating spare capacity.
      data_type: BOOLEAN
    - name: seg_retire_soon
      description: "Indicator for Retire Soon segment. Homeowners aged 53-69 with\
        \ high-value properties (>\xA3250k), financially ready for retirement planning."
      data_type: BOOLEAN
    - name: seg_electric_heating
      description: Indicator for Electric Heating segment. Properties primarily heated
        by electric systems.
      data_type: BOOLEAN
    - name: seg_gas_heating
      description: Indicator for Gas Heating segment. Properties primarily heated
        by gas systems.
      data_type: BOOLEAN
    - name: seg_garage
      description: Indicator for Garage segment. Properties that include a garage.
      data_type: BOOLEAN
    - name: seg_parking
      description: Indicator for Parking segment. Properties that include parking
        facilities.
      data_type: BOOLEAN
    - name: seg_sale_anni_q1
      description: Indicator for Sale Anniversary Q1 segment. Properties with sale
        anniversary in Q1.
      data_type: BOOLEAN
    - name: seg_sale_anni_q2
      description: Indicator for Sale Anniversary Q2 segment. Properties with sale
        anniversary in Q2.
      data_type: BOOLEAN
    - name: seg_sale_anni_q3
      description: Indicator for Sale Anniversary Q3 segment. Properties with sale
        anniversary in Q3.
      data_type: BOOLEAN
    - name: seg_sale_anni_q4
      description: Indicator for Sale Anniversary Q4 segment. Properties with sale
        anniversary in Q4.
      data_type: BOOLEAN
    - name: seg_just_moved
      description: Indicator for Just Moved segment. Properties with an EXCHANGE event
        in the last 3 months.
      data_type: BOOLEAN
    - name: seg_recently_moved
      description: Indicator for Recently Moved segment. Properties with an EXCHANGE
        event between 3 and 6 months.
      data_type: BOOLEAN
    - name: seg_predicted_move
      description: Indicator for Predicted Move segment. Properties predicted to move
        in the next 6 months.
      data_type: BOOLEAN
    - name: seg_move_intent
      description: Indicator for Move Intent segment. Properties with NEW_INSTRUCTION,
        RELISTED, FALL_THROUGH in the last 18 months
      data_type: BOOLEAN
    - name: seg_moving
      description: Indicator for Moving segment. Properties with a UNDER_OFFER event
        in the last 18 months.
      data_type: BOOLEAN
    - name: seg_post_move
      description: Indicator for Post Move segment. Properties with a EXCHANGE event
        between 6 and 12 months.
      data_type: BOOLEAN
    - name: seg_premover
      description: Indicator for Premover segment. Properties do not match with any
        of the above mover segments, score > 0.7.
      data_type: BOOLEAN
    - name: seg_rental_movers
      description: Indicator for transaction_type rental
      data_type: BOOLEAN
    - name: seg_hnw_super_rich
      description: "Flag indicating properties with very high value (property value\
        \ greater than \xA32.8m)."
      data_type: BOOLEAN
    - name: seg_hnw_retiring_in_comfort
      description: Flag for households that are retired or in older age bands, indicating
        financially comfortable retirement, over 65 years old.
      data_type: BOOLEAN
    - name: seg_hnw_professional_near_retirement
      description: Flag for wealthy professionals likely to retire in the next five
        years, over 60 years old.
      data_type: BOOLEAN
    - name: seg_hnw_luxury_apartments
      description: "Flag for high-value flats or maisonettes with property value greater\
        \ than \xA31.2m."
      data_type: BOOLEAN
    - name: seg_hnw_wealthy_families
      description: Flag for affluent households with children at home, over 25 years
        old.
      data_type: BOOLEAN
    - name: seg_hnw_young_professionals
      description: Flag for younger working-age households without children, aged
        25-39.
      data_type: BOOLEAN
    - name: seg_hnw_middle_aged_professionals
      description: Flag for households not captured by other wealth segments.
      data_type: BOOLEAN
    - name: seg_sale_movers
      description: Indicator for transaction_type sale
      data_type: BOOLEAN
- name: CORE.LISTINGS
  description: ''
  database: GOLD
  schema: ON_MARKET_EVENTS
  tables:
  - name: ON_MARKET_EVENTS_CONSOLIDATED
    description: 'Tracks changes and events related to property listings over time,
      such as price changes or status updates.

      '
    columns:
    - name: OUTRA_ID
      description: Outra identifier of a listing, being that the combination of a
        property and agent per lifecycle.
    - name: UPRN
      description: Unique Property Identifier.
    - name: TRANSACTION_TYPE
      description: Indicates whether the listing is for sale or rent.
    - name: EVENT_DATE
      description: Date when the event occurred.
    - name: EVENT_TYPE
      description: Type of event (e.g., price change, status update).
    - name: EVENT_INFERRED
      description: Weather the event was inferred or observed.
    - name: PRICE
      description: Price of the listing on the event date.
    - name: AGENT_BRANCH
      description: Agent responsible for the related listing.
    - name: INSERT_DATE
      description: Date when the event was recorded in the database.
    - name: LOAD_DATE
      description: Date when the listing which originates the event was loaded.
    - name: LAST_MODIFIED_DATE
      description: Date when the event was last modified.
  - name: ON_MARKET_EVENTS
    description: 'Tracks changes and events related to property listings over time,
      such as price changes or status updates.

      '
    columns:
    - name: SOURCE
      description: Provider of the data.
    - name: ID
      description: Event identifier, incremental by EVENT_DATE and unique per LISTING_ID.
    - name: LISTING_ID
      description: Unique identifier for each property listing.
    - name: UPRN
      description: Unique Property Identifier.
    - name: TRANSACTION_TYPE
      description: Indicates whether the listing is for sale or rent.
    - name: EVENT_TYPE
      description: Type of event (e.g., price change, status update).
    - name: EVENT_INFERRED
      description: Weather the event was inferred or observed.
    - name: PRICE
      description: Price of the listing on the event date.
    - name: AGENT_BRANCH
      description: Agent responsible for the related listing.
    - name: AGENT_BRAND
      description: The brand associated with the agent. Populated only if the agent
        appears on the verified list.
    - name: EVENT_DATE
      description: Date when the event occurred.
    - name: INSERT_DATE
      description: Date when the event was recorded in the database.
    - name: LOAD_DATE
      description: Date when the listing which originates the event was loaded.
    - name: RUN_DATE
      description: Table compilation date.
  - name: ON_MARKET_LISTINGS
    description: 'Contains the latest snapshot of property listings currently on the
      market, including metadata such as price, status, and source.

      '
    columns:
    - name: SOURCE
      description: Provider of the data.
    - name: LISTING_ID
      description: Unique identifier for each property listing.
    - name: TRANSACTION_TYPE
      description: Indicates whether the listing is for sale or rent.
    - name: LAST_UPDATE_DATE
      description: Date when the listing was last updated.
    - name: FIRST_VISIBLE_DATE
      description: Date when the listing was first seen.
    - name: AGENT_BRANCH
      description: Name or identifier of the agent's branch managing the listing.
    - name: LISTING_STATUS
      description: Current status of the listing (available or under offer).
    - name: PRICE
      description: Listed price of the property.
    - name: MESSAGE_TIMESTAMP
      description: Date when the listing was loaded.
    - name: CHANGE_TYPE
      description: Type of change occurring in the listing (ex. Price Change)
    - name: RUN_DATE
      description: Table compilation date.
  - name: ON_MARKET_STATUS_CURRENT
    description: 'Current on-market status for each UPRN, derived from the latest
      snapshot in current_on_market_status_hist and enriched with market activity
      windows, deed history, and new-build classification using event data.

      '
    columns:
    - name: UPRN
      description: Unique Property Reference Number.
      tests:
      - not_null
      - unique
    - name: OUTRA_ID_SALE
      description: OUTRA identifier from latest sale market event.
    - name: OUTRA_ID_RENT
      description: OUTRA identifier from latest rent market event.
    - name: LISTING_ID_SALE
      description: Listing identifier from latest sale market event.
    - name: LISTING_ID_RENT
      description: Listing identifier from latest rent market event.
    - name: IS_ON_MARKET_SALE
      description: TRUE if the property is currently active on the SALE market.
      tests:
      - not_null
    - name: IS_ON_MARKET_RENT
      description: TRUE if the property is currently active on the RENT market.
      tests:
      - not_null
    - name: LAST_EVENT_TYPE_SALE
      description: Most recent SALE event type used to determine sale status.
    - name: LAST_EVENT_TYPE_RENT
      description: Most recent RENT event type used to determine rent status.
    - name: LAST_EVENT_DATE_SALE
      description: Date of the most recent SALE event.
    - name: LAST_EVENT_DATE_RENT
      description: Date of the most recent RENT event.
    - name: LAST_LISTING_DATE_SALE
      description: Latest active SALE listing event date.
    - name: LAST_LISTING_DATE_RENT
      description: Latest active RENT listing event date.
    - name: HAS_MARKET_EVENT_3M_SALE
      description: TRUE if a SALE market event occurred within the last 3 months.
      tests:
      - not_null
    - name: HAS_MARKET_EVENT_6M_SALE
      description: TRUE if a SALE market event occurred within the last 6 months.
      tests:
      - not_null
    - name: HAS_MARKET_EVENT_12M_SALE
      description: TRUE if a SALE market event occurred within the last 12 months.
      tests:
      - not_null
    - name: HAS_MARKET_EVENT_3M_RENT
      description: TRUE if a RENT market event occurred within the last 3 months.
      tests:
      - not_null
    - name: HAS_MARKET_EVENT_6M_RENT
      description: TRUE if a RENT market event occurred within the last 6 months.
      tests:
      - not_null
    - name: HAS_MARKET_EVENT_12M_RENT
      description: TRUE if a RENT market event occurred within the last 12 months.
      tests:
      - not_null
    - name: HAS_DEED_6M
      description: TRUE if a DEED occurred within the last 6 months.
      tests:
      - not_null
    - name: HAS_DEED_12M
      description: TRUE if a DEED occurred within the last 12 months.
      tests:
      - not_null
    - name: HAS_DEED_18M
      description: TRUE if a DEED occurred within the last 18 months.
      tests:
      - not_null
    - name: HAS_DEED_24M
      description: TRUE if a DEED occurred within the last 24 months.
      tests:
      - not_null
    - name: IS_NEW_BUILD_NO_SALE
      description: TRUE if the property is a new build with no recorded sale history.
      tests:
      - not_null
    - name: INSERT_DATE
      description: Date when the current snapshot was generated.
      tests:
      - not_null
  - name: ON_MARKET_STATUS_HISTORY
  - name: AGENTS_VERIFIED
    description: Verified listing agents with hashed identifiers
    columns:
    - name: agent_verified_id
      description: Unique identifier (MD5 of agent_branch_cleaned)
      tests:
      - not_null
      - unique
    - name: agent_branch_cleaned
      description: Cleaned version of `agent_branch` using the `clean_agent_branch_name`
        macro for normalization
    - name: agent_brand_inferred
      description: Inferred brand name associated with the agent using the `infer_agent_brand_name`
        macro on `agent_branch`
    - name: agent_brand
      description: Mapped brand name associated with the agent
    - name: agent_group
      description: Group or category the agent belongs to
    - name: agent_phone
      description: The latest available phone number associated with the agent
    - name: agent_address
      description: The latest available address associated with the agent
    - name: agent_branch_date_first_seen
      description: Date on which agent_branch was first observed in on_market_events
    - name: agent_brand_date_first_seen
      description: Date on which agent_brand was first observed in on_market_events
    - name: agent_branch_date_last_seen
      description: Date on which agent_branch was last observed in on_market_events
    - name: agent_brand_date_last_seen
      description: Date on which agent_brand was last observed in on_market_events
    - name: is_manually_verified
      description: Boolean flag indicating whether agent_brand and agent_group come
        from manually verified list. False if they come from matching inferred agent
        name with verified records.
    - name: created_at
      description: Timestamp when the record was created
    - name: updated_at
      description: Timestamp when the record was updated
